<div class="container">
  <div class="product-list-container">
    <!-- Sidebar Filters -->
    <aside class="filters-sidebar">
      <div class="card">
        <div class="card-header">
          <h3>Filters</h3>
        </div>

        <div class="filter-section">
          <h4>Categories</h4>
          <div class="category-list">
            <button 
              class="category-btn"
              [class.active]="selectedCategory === null"
              (click)="clearFilters()"
            >
              All Products
            </button>
            <button 
              *ngFor="let category of categories"
              class="category-btn"
              [class.active]="selectedCategory === category.id"
              (click)="filterByCategory(category.id)"
            >
              {{ category.name }}
            </button>
          </div>
        </div>

        <div class="filter-section">
          <h4>Price Range</h4>
          <div class="form-group">
            <label>Min: ${{ minPrice }}</label>
            <input 
              type="range" 
              [(ngModel)]="minPrice" 
              min="0" 
              max="10000" 
              step="10"
              class="form-control"
            />
          </div>
          <div class="form-group">
            <label>Max: ${{ maxPrice }}</label>
            <input 
              type="range" 
              [(ngModel)]="maxPrice" 
              min="0" 
              max="10000" 
              step="10"
              class="form-control"
            />
          </div>
          <button class="btn btn-primary" (click)="filterByPrice()">Apply</button>
        </div>

        <button class="btn btn-secondary btn-block mt-2" (click)="clearFilters()">
          Clear All Filters
        </button>
      </div>
    </aside>

    <!-- Products Grid -->
    <main class="products-main">
      <div *ngIf="error" class="alert alert-error">{{ error }}</div>

      <app-loading-spinner *ngIf="loading"></app-loading-spinner>

      <div *ngIf="!loading && products.length === 0" class="no-products">
        <p>No products found.</p>
      </div>

      <div *ngIf="!loading && products.length > 0" class="products-grid">
        <app-product-card 
          *ngFor="let product of products" 
          [product]="product"
        ></app-product-card>
      </div>
    </main>
  </div>
</div>
